<div class="container" id="main-container">
  <div class="row mt-2">

    <div class="col-lg-8 col-md-8 col-sm-8">

      <!--         carosel-->
      <div id="carouselExampleControls" class="carousel slide" data-mdb-ride="carousel">
        <div class="carousel-inner">
          <!--                        <div class="carousel-item active">-->
          <!--                            <img src="https://pdp.edu.vn/wp-content/uploads/2021/06/hinh-anh-gai-xinh-de-thuong-nhat-1.jpg" class="d-block w-100"-->
          <!--                                 alt="Wild Landscape"/>-->
          <!--                        </div>-->
          <div class="carousel-item active">
            <img src="https://www.chensea-resort.com/wp-content/uploads/2017/06/Chen-Sea-Resort-Main-View-Intro-2.jpg"
                 class="d-block w-100"
                 alt="Camera"/>
          </div>
          <div class="carousel-item">
            <img src="https://www.chensea-resort.com/wp-content/uploads/2017/06/Chen-Sea-Resort-Main-View-Intro-2.jpg"
                 class="d-block w-100"
                 alt="Exotic Fruits"/>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-mdb-target="#carouselExampleControls"
                data-mdb-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-mdb-target="#carouselExampleControls"
                data-mdb-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <!--end carosel-->

      <!--         card group-->
      <!--      <div class="container col-9">-->
      <div class=" mt-2 row row-cols-2 row-cols-lg-3 g-2 g-lg-3 text-center  ">
        <!--          phần main card chính-->
        <div class="card-group mt-2" *ngFor="let facility of facilityList | paginate : {itemsPerPage :9 , currentPage :p}">
          <div class="card">
            <i data-mdb-toggle="tooltip" data-mdb-placement="top"
               title="{{facility.title}}">
              <a href="#"> <img
                src="{{facility.image}}"
                class="card-img-top" alt="Hollywood Sign on The Hill"/></a>
            </i>

            <div class="card-body">

              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" (click)="onOpenModal(null,'add')">
                    <button class="btn btn-warning">thêm mới dịch vụ
                    </button>
                    <span class="sr-only">
                  </span></a>
                </li>
              </ul>
              <h4>{{facility.serviceName}}</h4>
              <p>diện tích:<span> {{facility.area}} m2</span></p>
              <p>Gía thuê:<span> {{facility.price}} VND</span></p>

              <a (click)="onOpenModal(facility,'edit')" class="btn btn-primary tooltips" data-placement="top"
                 data-toggle="tooltip"
                 data-original-title="Edit"><i class="fa fa-pencil"></i> </a>

              <a (click)="onOpenModal(facility,'delete')" class="btn btn-secondary tooltips" data-placement="top"
                 data-toggle="tooltip"
                 data-original-title="Delete"><i class="fa fa-times"></i></a>
            </div>
            <div class="card-footer">
              <small class="text-muted">cập nhật 3h trước</small>
            </div>
          </div>
          <!--          </div>-->
          <!--end main-->

        </div>
        <pagination-controls (pageChange)="p=$event"></pagination-controls>
      </div>

    </div>
    <div id="side_nav" class="col-lg-4 col-md-0 col-sm-0" style="padding: 0">
      <div class="banner-item">

        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcStfj0JRC973lST0zpWMAxqtlBqLbphiJ443w&usqp=CAU"
          class="img-fluid mb-2" alt=""></a>
        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbG5c6W6niSW9dtV40o8vTFdVnT_CU8CCxsA&usqp=CAU"
          class="img-fluid" alt=""></a>
        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS_DFQuBEgCKgwnK4WJ8cQWr3EQiIRS-7O9uw&usqp=CAU"
          class="img-fluid mb-2" alt=""></a>
        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbb4dCofTP4vLvbBaMOl0EKuOdaOllmoYSDA&usqp=CAU"
          class="img-fluid mb-2" alt=""></a>
        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSIya6DgbDDMPTWbZzJ9HvHjztPe2rW8pomww&usqp=CAU"
          class="img-fluid mb-2" alt=""></a>
        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwOYEOgO6F2GUUzQX7xrkY-Ac3W6DYorhDTQ&usqp=CAU"
          class="img-fluid mb-2" alt=""></a>
        <a href="#"><img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwOYEOgO6F2GUUzQX7xrkY-Ac3W6DYorhDTQ&usqp=CAU"
          class="img-fluid mb-2" alt=""></a>
        <!--                    <a href="#"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwOYEOgO6F2GUUzQX7xrkY-Ac3W6DYorhDTQ&usqp=CAU" class="img-fluid mb-2" alt=""></a>-->
      </div>
    </div>


  </div>


</div>


<!--add new-->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addModal"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Thêm mới dịch vụ</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="addFormFacility" (ngSubmit)="addNewModal(closesAddModal)">
          <div class="modal-body">
            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" id="customerCode" class="form-control" formControlName="serviceName"/>
                <label class="form-label" for="customerCode">tên dịch vụ<span class="text-danger">(*)</span></label>
              </div>

              <div *ngIf="!serviceName.valid &&(serviceName.dirty || serviceName.touched)">
                <small class="text-danger" [hidden]="!serviceName.errors.required">
                  tên dịch vụ không được để trống
                </small>

              </div>
            </div>

            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" id="idCard" class="form-control" formControlName="title"/>
                <label class="form-label" for="idCard">tiêu đề<span class="text-danger">(*)</span></label>
              </div>
              <div *ngIf="!title.valid &&(title.dirty || title.touched)">
                <small class="text-danger" [hidden]="!title.errors.required">
                  tiêu đề không được để trống
                </small>
              </div>
            </div>

            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" class="form-control" formControlName="price"/>
                <label class="form-label">giá thuê</label>
              </div>
              <div *ngIf="!price.valid &&(price.dirty || price.touched)">
                <small class="text-danger" [hidden]="!price.errors.required">
                  tiền thuê không được để trống
                </small>
              </div>
            </div>

            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" class="form-control" formControlName="area"/>
                <label class="form-label">diện tích</label>
              </div>
              <div *ngIf="!area.valid &&(area.dirty || area.touched)">
                <small class="text-danger" [hidden]="!area.errors.required">
                  email khống được để trống không được để trống
                </small>
              </div>
            </div>


            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" class="form-control" formControlName="image"/>
                <label class="form-label">link ảnh</label>
              </div>
              <div *ngIf="!image.valid &&(image.dirty || image.touched)">
                <small class="text-danger" [hidden]="!image.errors.required">
                  link ảnh không được để trống
                </small>
                <!--                <small class="text-danger" [hidden]="!image.errors.pattern">-->
                <!--                  link ảnh không đúng định dạng-->
                <!--                </small>-->
              </div>
            </div>

            <div>
              <label class="form-label" for="customerType">loại dịch vụ</label>
              <select id="customerType" class="form-control mb-4" formControlName="serviceType">
                <option *ngFor="let a of serviceType" [ngValue]="a">
                  {{a.name}}
                </option>
              </select>
            </div>

            <div class="modal-footer">
              <button #closesAddModal type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>
              <input type="submit" class="btn btn-primary" value="lưu"/>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- Edit Modal -->

<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModal"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Thêm mới dịch vụ</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="editFormFacility" (ngSubmit)="onUpdateFacility(closesModal)">
          <div class="modal-body">
            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="hidden" class="form-control" formControlName="id"/>
                <input type="text" class="form-control" formControlName="serviceName"/>
                <label class="form-label" for="customerCode">tên dịch vụ<span class="text-danger">(*)</span></label>
              </div>

              <div *ngIf="!serviceName.valid &&(serviceName.dirty || serviceName.touched)">
                <small class="text-danger" [hidden]="!serviceName.errors.required">
                  tên dịch vụ không được để trống
                </small>
                <!--                <small class="text-danger" [hidden]="!serviceName.errors.pattern">-->
                <!--                  tên dịch vụ sai định dạng-->
                <!--                </small>-->
              </div>
            </div>


            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" id="" class="form-control" formControlName="title"/>
                <label class="form-label" for="idCard">tiêu đề<span class="text-danger">(*)</span></label>
              </div>
              <div *ngIf="!title.valid &&(title.dirty || title.touched)">
                <small class="text-danger" [hidden]="!title.errors.required">
                  tiêu đề không được để trống
                </small>
              </div>
            </div>

            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" class="form-control" formControlName="price"/>
                <label class="form-label">giá thuê</label>
              </div>
              <div *ngIf="!price.valid &&(price.dirty || price.touched)">
                <small class="text-danger" [hidden]="!price.errors.required">
                  tiền thuê không được để trống
                </small>
                <!--                <small class="text-danger" [hidden]="!price.errors.pattern">-->
                <!--                  tiền thuê không đúng định dạng-->
                <!--                </small>-->
              </div>
            </div>

            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" class="form-control" formControlName="area"/>
                <label class="form-label">diện tích</label>
              </div>
              <div *ngIf="!area.valid &&(area.dirty || area.touched)">
                <small class="text-danger" [hidden]="!area.errors.required">
                  email khống được để trống không được để trống
                </small>
                <!--                <small class="text-danger" [hidden]="!area.errors.pattern">-->
                <!--                  email không đúng định dạng-->
                <!--                </small>-->
              </div>
            </div>


            <div class="form-group mb-4">
              <div class="form-outline">
                <input type="text" class="form-control" formControlName="image"/>
                <label class="form-label">link ảnh</label>
              </div>
              <div *ngIf="!image.valid &&(image.dirty || image.touched)">
                <small class="text-danger" [hidden]="!image.errors.required">
                  link ảnh không được để trống
                </small>
                <!--                <small class="text-danger" [hidden]="!image.errors.pattern">-->
                <!--                  link ảnh không đúng định dạng-->
                <!--                </small>-->
              </div>
            </div>

            <div>
              <label class="form-label" for="customerType">loại dịch vụ</label>
              <select class="form-control mb-4" formControlName="serviceType" [compareWith]="compareFn">
                <option *ngFor="let a of serviceType" [ngValue]="a">
                  {{a.name}}
                </option>
              </select>
            </div>

            <div class="modal-footer">
              <button #closesModal type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>
              <input type="submit" class="btn btn-primary" value="lưu"/>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- Delete Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModelLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteModelLabel">Delete facility</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>bạn có muốn loại dịch vụ : {{deleteFacility?.serviceType.name}}</p>
        <p>bạn có muốn xóa tên dịch vụ: {{deleteFacility?.serviceName}}</p>
        <div class="modal-footer">
          <button #closeModals type="button" class="btn btn-secondary" data-mdb-dismiss="modal">No</button>
          <button (click)="onDeleteFacility(closeModals)" class="btn btn-danger" data-dismiss="modal">Yes
          </button>
        </div>
      </div>
    </div>
  </div>
</div>


<!--them mới modal-->





